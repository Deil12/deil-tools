spring.cloud.nacos.discovery.username=tang_bgTest
spring.cloud.nacos.discovery.password=ENC(U1p+7lSS5fOEYzEVHfolJoFWYePSHRjnnVPVD5CI6ds=)
spring.cloud.nacos.discovery.server-addr=10.79.5.89:8848,10.79.5.90:8848,10.79.5.91:8848
spring.cloud.nacos.discovery.namespace=backgroundService-dev
spring.cloud.nacos.config.username=${spring.cloud.nacos.discovery.username}
spring.cloud.nacos.config.password=${spring.cloud.nacos.discovery.password}
spring.cloud.nacos.config.server-addr=${spring.cloud.nacos.discovery.server-addr}
spring.cloud.nacos.config.namespace=${spring.cloud.nacos.discovery.namespace}
spring.cloud.nacos.config.enable-remote-sync-config=true

################################################## 同 步 更 新 本 配 置 ##################################################

server.port=8089

#第三方
tang.gateway.externalAppId=XXXX
tang.gateway.externalApi=/customsmove/*,/telautodecode/*
tang.gateway.thirdPartyAppId=jd
tang.gateway.thirdPartyPath=/cargoTracking/Sale,/cargoImp/SaveCargoTelexMsg

tang.auth.validtime=3000000
tang.auth.ignoreApi[0]=/**/HealthCheck/Check
tang.auth.ignoreApi[1]=/**/HealthCheck/F5Check
tang.auth.ignoreApi[2]=/**/v3/api-docs
#1：内部账号, 外部账号
tang.auth.account[0].appid=test
tang.auth.account[0].appSecret=ENC(T4Fi1GQcQSa/SdESlBpcZb6czjnGin4u)
tang.auth.account[0].accountType=1
tang.auth.account[0].whiteList[0]=127.0.0.1
tang.auth.account[0].blackList[0]=127.0.0.0
tang.auth.account[1].appid=open
tang.auth.account[1].appSecret=ENC(0nen4Tm1daehKl40an2Hvvg4f57NUWOD)
tang.auth.account[1].accountType=2
tang.auth.account[2].appid=Csair
tang.auth.account[2].appSecret=Q2FzaXJfVGFuZzEyM18xNjgxODA4NTcyNDgy
tang.auth.account[2].accountType=2

logging.config=classpath:logback-spring.xml
tang.log.ftp.enable=true
tang.log.ftp.logFilePath=/backgroundServiceLog/
tang.log.ftp.logIp=127.0.0.1
tang.log.ftp.hostIp=10.79.10.128
tang.log.ftp.port=222
tang.log.ftp.userName=tang_user
tang.log.ftp.password=ENC(ChR7coUCc5zsZOSfUTJ1ECWpo0m2w4U4)
tang.log.ftp.path=/backgroundServiceLog/

#网关配置
spring.cloud.gateway.discovery.locator.enabled=true
spring.cloud.gateway.routes[0].id=open_api_0
spring.cloud.gateway.routes[0].uri=http://localhost:8090
spring.cloud.gateway.routes[0].predicates[0]=Path=/tang-test-api/**
spring.cloud.gateway.routes[0].filters[0]=StripPrefix=1
spring.cloud.gateway.routes[0].filters[1]=AuthRequestHeadFilterFactory
spring.cloud.gateway.routes[0].filters[2].name=RequestRateLimiter
#使用ip进行限流
spring.cloud.gateway.routes[0].filters[2].args.key-resolver=#{@ipKeyResolver}
#令牌每秒填充速率
spring.cloud.gateway.routes[0].filters[2].args.redis-rate-limiter.replenishRate=60
#令牌桶大小
spring.cloud.gateway.routes[0].filters[2].args.redis-rate-limiter.burstCapacity=120

spring.cloud.gateway.routes[1].id=open_api_1
spring.cloud.gateway.routes[1].uri=lb://customsMoveService
spring.cloud.gateway.routes[1].predicates[0]=Path=/tang-bgc-api/**
spring.cloud.gateway.routes[1].filters[0]=StripPrefix=1
spring.cloud.gateway.routes[1].filters[1]=AuthRequestHeadFilterFactory
spring.cloud.gateway.routes[1].filters[2].name=RequestRateLimiter
spring.cloud.gateway.routes[1].filters[2].args.key-resolver=#{@ipKeyResolver}
spring.cloud.gateway.routes[1].filters[2].args.redis-rate-limiter.replenishRate=60
spring.cloud.gateway.routes[1].filters[2].args.redis-rate-limiter.burstCapacity=120

spring.cloud.gateway.routes[2].id=open_api_2
spring.cloud.gateway.routes[2].uri=lb://telAutoDecodeService
spring.cloud.gateway.routes[2].predicates[0]=Path=/tang-bgt-api/**
spring.cloud.gateway.routes[2].filters[0]=StripPrefix=1
spring.cloud.gateway.routes[2].filters[1]=AuthRequestHeadFilterFactory
spring.cloud.gateway.routes[2].filters[2].name=RequestRateLimiter
spring.cloud.gateway.routes[2].filters[2].args.key-resolver=#{@ipKeyResolver}
spring.cloud.gateway.routes[2].filters[2].args.redis-rate-limiter.replenishRate=60
spring.cloud.gateway.routes[2].filters[2].args.redis-rate-limiter.burstCapacity=120

spring.redis.cluster.nodes=10.79.5.89:5379,10.79.5.89:6379,10.79.5.89:7379
spring.redis.password=ENC(LJM5snH+EIWTCqD2xeSIqoFWYBkonOzEXTG65k0R3Qk=)
spring.redis.lettuce.pool.max-wait=1000ms